<%-
  groups = OodSupport::User.new.groups.sort_by(&:id).tap { |groups|
    groups.unshift(groups.delete(OodSupport::Process.group))
  }.map(&:name).grep(/^P./)
-%>
---
cluster:
  - "borah"
form:
  - version
  - num_cores
  - bc_queue
  - bc_num_hours
  - bc_vnc_resolution
  - bc_email_on_started
attributes:
  num_cores: 28
  bc_vnc_resolution:
    required: true
  account:
    label: "Project"
    widget: select
    options:
      <%- groups.each do |group| %>
      - "<%= group %>"
      <%- end %>
  version:
    widget: select
    label: "MATLAB version"
    help: "This defines the version of MATLAB you want to load."
    options:
      - [
          "R2023a", "matlab/r2023b",
        ]
      - [ 
          "R2020a", "matlab/r2020a",           
        ]
  bs_queue: ondemand-p100    
